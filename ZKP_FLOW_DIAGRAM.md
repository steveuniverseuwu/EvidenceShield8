# ğŸ” Zero-Knowledge Proof Flow Diagram

## High-Level Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER UPLOADS FILE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTOMATIC ZKP GENERATION                          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Stage 1      â”‚ â”€â–º â”‚  Stage 2     â”‚ â”€â–º â”‚  Stage 3     â”‚        â”‚
â”‚  â”‚  Hashing      â”‚    â”‚  Generate    â”‚    â”‚  Record on   â”‚        â”‚
â”‚  â”‚  File         â”‚    â”‚  ZK Proof    â”‚    â”‚  Blockchain  â”‚        â”‚
â”‚  â”‚  (SHA-256)    â”‚    â”‚  (ZK-SNARK)  â”‚    â”‚  (Polygon)   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚        ğŸ”µ                    ğŸŸ£                   ğŸŸ£                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PROOF GENERATED âœ…                              â”‚
â”‚                                                                      â”‚
â”‚  â€¢ Proof ID: ZKP-1234567890-abc123                                  â”‚
â”‚  â€¢ File Hash: a1b2c3d4e5f6...                                       â”‚
â”‚  â€¢ Transaction: 0x7a8b9c...                                         â”‚
â”‚  â€¢ Timestamp: 2025-01-16 10:30:45                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FILE UPLOADED WITH ZKP                          â”‚
â”‚                                                                      â”‚
â”‚  File Metadata + ZKP Proof ID â”€â”€â–º Backend Database                  â”‚
â”‚  ZKP Proof Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º LocalStorage (Demo)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER CAN NOW:                                 â”‚
â”‚                                                                      â”‚
â”‚  â€¢ View proof in Evidence Files                                     â”‚
â”‚  â€¢ Verify proof integrity                                           â”‚
â”‚  â€¢ See proof ID in Audit Trail                                      â”‚
â”‚  â€¢ Share file (proof stays attached)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Stage Breakdown

### Stage 1: File Hashing (ğŸ”µ Blue)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HASHING STAGE                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Input: File (any type, up to 10MB)                            â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Read file in chunks (1MB at a time)                           â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Apply SHA-256 hash function                                   â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Output: 64-character hex string                               â”‚
â”‚          (e.g., "a1b2c3d4e5f6...")                             â”‚
â”‚                                                                  â”‚
â”‚  Progress: 0% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 100%                               â”‚
â”‚  Duration: ~0.5-2 seconds                                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Stage 2: ZK Proof Generation (ğŸŸ£ Purple)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PROOF GENERATION STAGE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Input: File Hash + Metadata                                   â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Generate ZK-SNARK Proof (Groth16)                             â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”œâ”€â–º Private Input: File hash                               â”‚
â”‚     â”œâ”€â–º Public Signals: File hash                              â”‚
â”‚     â””â”€â–º Witness: Proof computation                             â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Create Proof Structure:                                       â”‚
â”‚     â€¢ pi_a, pi_b, pi_c (proof components)                      â”‚
â”‚     â€¢ protocol: "groth16"                                      â”‚
â”‚     â€¢ publicSignals: [fileHash]                                â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Output: ZKP Proof Object                                      â”‚
â”‚                                                                  â”‚
â”‚  Progress: 0% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 100%                               â”‚
â”‚  Duration: ~2-5 seconds                                         â”‚
â”‚                                                                  â”‚
â”‚  Note: Currently simulated, will use real circuit in production â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Stage 3: Blockchain Recording (ğŸŸ£ Indigo)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BLOCKCHAIN RECORDING STAGE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Input: ZKP Proof Object                                       â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Prepare Transaction Data                                      â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”œâ”€â–º Proof ID                                               â”‚
â”‚     â”œâ”€â–º File Hash                                              â”‚
â”‚     â”œâ”€â–º Timestamp                                              â”‚
â”‚     â””â”€â–º Metadata                                               â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Submit to Blockchain (Polygon)                                â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Generate Transaction Hash                                     â”‚
â”‚          (e.g., "0x7a8b9c...")                                 â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Store Proof Locally                                           â”‚
â”‚     â””â”€â–º localStorage.setItem('zkp_proof_...', proof)          â”‚
â”‚     â”‚                                                            â”‚
â”‚     â–¼                                                            â”‚
â”‚  Output: Transaction Hash                                      â”‚
â”‚                                                                  â”‚
â”‚  Progress: 0% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 100%                               â”‚
â”‚  Duration: ~0.5-1 second                                        â”‚
â”‚                                                                  â”‚
â”‚  Note: Currently simulated, will record on real blockchain      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COMPONENT ARCHITECTURE                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UploadEvidence.tsx â”‚  (User uploads file)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ calls
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ZKPService.ts     â”‚  (Generates proof)
â”‚                     â”‚
â”‚  â€¢ generateProof()  â”‚
â”‚  â€¢ hashFile()       â”‚
â”‚  â€¢ verifyProof()    â”‚
â”‚  â€¢ storeProof()     â”‚
â”‚  â€¢ getProof()       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ emits status
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ZKPProgress.tsx    â”‚  (Shows progress)
â”‚                     â”‚
â”‚  Stages:            â”‚
â”‚  â€¢ Hashing (blue)   â”‚
â”‚  â€¢ Generating (ğŸŸ£)  â”‚
â”‚  â€¢ Recording (ğŸŸ£)   â”‚
â”‚  â€¢ Complete (âœ…)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend Upload     â”‚  (File + ZKP metadata)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ EvidenceFiles.tsxâ”‚    â”‚  AuditTrail.tsx      â”‚   â”‚
â”‚  â”‚                  â”‚    â”‚                      â”‚   â”‚
â”‚  â”‚ Shows:           â”‚    â”‚ Shows:               â”‚   â”‚
â”‚  â”‚ â€¢ ZKP Badge      â”‚    â”‚ â€¢ Proof ID           â”‚   â”‚
â”‚  â”‚ â€¢ Verify Button  â”‚    â”‚ â€¢ Verify Status      â”‚   â”‚
â”‚  â”‚ â€¢ File Hash      â”‚    â”‚ â€¢ Info Cards         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                        â”‚                 â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                        â–¼                             â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚           â”‚ ZKPVerificationBadge.tsx â”‚              â”‚
â”‚           â”‚                          â”‚              â”‚
â”‚           â”‚ â€¢ Display proof info     â”‚              â”‚
â”‚           â”‚ â€¢ Verify button          â”‚              â”‚
â”‚           â”‚ â€¢ Status indicator       â”‚              â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA FLOW                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

File Upload
    â”‚
    â”œâ”€â–º File Object â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ZKPService
    â”‚                               â”‚
    â”‚                               â”œâ”€â–º SHA-256 Hash
    â”‚                               â”‚       â”‚
    â”‚                               â”‚       â–¼
    â”‚                               â”œâ”€â–º ZK Proof Generation
    â”‚                               â”‚       â”‚
    â”‚                               â”‚       â–¼
    â”‚                               â””â”€â–º ZKP Proof Object
    â”‚                                       â”‚
    â”‚                                       â”œâ”€â–º localStorage
    â”‚                                       â”‚   (key: zkp_proof_ID)
    â”‚                                       â”‚
    â”‚                                       â””â”€â–º Metadata
    â”‚                                               â”‚
    â”œâ”€â–º File Metadata â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚                            â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Backend Upload       â”‚
                    â”‚                        â”‚
                    â”‚   FormData:            â”‚
                    â”‚   â€¢ file               â”‚
                    â”‚   â€¢ caseNumber         â”‚
                    â”‚   â€¢ description        â”‚
                    â”‚   â€¢ uploadedBy         â”‚
                    â”‚   â€¢ zkpProofs (JSON)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Database Storage     â”‚
                    â”‚                        â”‚
                    â”‚   â€¢ File record        â”‚
                    â”‚   â€¢ ZKP proof ID       â”‚
                    â”‚   â€¢ ZKP file hash      â”‚
                    â”‚   â€¢ Metadata           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   UI Display           â”‚
                    â”‚                        â”‚
                    â”‚   â€¢ Evidence Files     â”‚
                    â”‚   â€¢ Audit Trail        â”‚
                    â”‚   â€¢ ZKP Badges         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Journey Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER JOURNEY                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START
  â”‚
  â”œâ”€â–º User navigates to "Upload Evidence"
  â”‚
  â”œâ”€â–º User fills form:
  â”‚   â€¢ Case Number
  â”‚   â€¢ Description
  â”‚   â€¢ Selects file(s)
  â”‚
  â”œâ”€â–º User clicks "Upload Evidence"
  â”‚
  â”œâ”€â–º ZKP Progress Card appears:
  â”‚   â”‚
  â”‚   â”œâ”€â–º [Stage 1] Hashing (0% â†’ 100%)
  â”‚   â”‚   â””â”€ "Computing cryptographic hash..."
  â”‚   â”‚
  â”‚   â”œâ”€â–º [Stage 2] Generating (0% â†’ 100%)
  â”‚   â”‚   â””â”€ "Creating cryptographic proof..."
  â”‚   â”‚
  â”‚   â”œâ”€â–º [Stage 3] Recording (0% â†’ 100%)
  â”‚   â”‚   â””â”€ "Storing proof on blockchain..."
  â”‚   â”‚
  â”‚   â””â”€â–º [Complete] âœ… Success!
  â”‚       â””â”€ "Zero-Knowledge Proof ID: ZKP-..."
  â”‚
  â”œâ”€â–º File uploads with ZKP metadata
  â”‚
  â”œâ”€â–º Success message shows:
  â”‚   â€¢ "Evidence uploaded successfully with ZKP proof!"
  â”‚   â€¢ Proof ID(s) listed
  â”‚   â€¢ Transaction hash
  â”‚
  â”œâ”€â–º User navigates to "Evidence Files"
  â”‚   â”‚
  â”‚   â””â”€â–º Sees uploaded file with purple ZKP badge
  â”‚       â€¢ Proof ID displayed
  â”‚       â€¢ File hash shown
  â”‚       â€¢ "Verify Proof" button
  â”‚
  â”œâ”€â–º User clicks "Verify Proof"
  â”‚   â”‚
  â”‚   â””â”€â–º Verification runs...
  â”‚       â””â”€â–º âœ… "Proof Valid!"
  â”‚           "Zero-knowledge proof verified successfully!"
  â”‚
  â”œâ”€â–º User navigates to "Audit Trail"
  â”‚   â”‚
  â”‚   â””â”€â–º Sees upload event with:
  â”‚       â€¢ ğŸ›¡ï¸ Zero-Knowledge Proof badge
  â”‚       â€¢ Proof ID
  â”‚       â€¢ Verified status
  â”‚
END
```

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ERROR SCENARIOS                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Scenario 1: ZKP Generation Fails
    â”‚
    â”œâ”€â–º Error occurs during proof generation
    â”‚
    â”œâ”€â–º Error logged to console
    â”‚
    â”œâ”€â–º Error message shown in progress card
    â”‚
    â””â”€â–º Upload continues WITHOUT ZKP
        â””â”€â–º File still uploaded successfully
            â””â”€â–º No ZKP badge shown (graceful degradation)

Scenario 2: File Too Large
    â”‚
    â”œâ”€â–º File > 10MB
    â”‚
    â”œâ”€â–º Validation error before ZKP
    â”‚
    â””â”€â–º User notified: "File too large"

Scenario 3: Network Error During Upload
    â”‚
    â”œâ”€â–º ZKP generated successfully
    â”‚
    â”œâ”€â–º Network fails during file upload
    â”‚
    â”œâ”€â–º ZKP proof stored locally
    â”‚
    â””â”€â–º User can retry upload
        â””â”€â–º ZKP can be reused (same file hash)

Scenario 4: Browser Doesn't Support Crypto API
    â”‚
    â”œâ”€â–º crypto.subtle not available
    â”‚
    â”œâ”€â–º Fallback to basic hashing
    â”‚
    â””â”€â–º Warning message to user
```

---

## Legend

- ğŸ”µ **Blue** = Hashing stage
- ğŸŸ£ **Purple** = Proof generation stage
- ğŸŸ£ **Indigo** = Blockchain recording stage
- âœ… **Green** = Success state
- âŒ **Red** = Error state
- ğŸ›¡ï¸ **Shield** = ZKP feature indicator
- â”€â–º **Arrow** = Data/Process flow

---

**This diagram shows the complete Zero-Knowledge Proof implementation flow in ChainGuard.**

Last Updated: 2025-01-16
